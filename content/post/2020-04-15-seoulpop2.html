---
title: 서울시 생활인구 데이터 분석2 [데이터 전처리]
author: JDW
date: '2020-04-15'
slug: seoulpop2
categories:
  - 데이터분석
tags:
  - R
---



<p><img src="/post/2020-04-15-seoulpop2_files/blue-4119805_1920.jpg" /></p>
<p>  이번장에서는 데이터 전처리 과정을 진행해 보겠습니다. 앞서 수집한 데이터는 숫자임에도 불구하고 값에 콤마가 붙어있고, 데이터의 형태도 factor형으로 되어 있었습니다. 분석에 적합하지 않은 형태이죠. 전처리를 통해 분석에 적합한 숫자형으로 변환시켜 줄 필요가 있습니다.
<br></p>
<div id="데이터-전처리" class="section level1">
<h1>데이터 전처리</h1>
<hr />
<div id="데이터-구조-파악" class="section level2">
<h2>데이터 구조 파악</h2>
<p>  이전장에서 호출했었던 데이터의 형태를 다시 한번 확인해 보겠습니다.</p>
<pre class="r"><code>head(seouldata)</code></pre>
<pre><code>##              GIGAN JACHIGU     SEDAE      GYE_1   NAMJA_1   YEOJA_1      GYE_2
## 1 &lt;U+FEFF&gt;2010.1-4    합계 4,121,193 10,464,171 5,181,117 5,283,054 10,208,670
## 2         2010.1-4  종로구    74,300    177,023    88,225    88,798    168,158
## 3         2010.1-4    중구    58,472    138,102    69,175    68,927    129,786
## 4         2010.1-4  용산구   107,407    250,844   123,295   127,549    238,366
## 5         2010.1-4  성동구   126,942    316,113   158,228   157,885    308,144
## 6         2010.1-4  광진구   156,264    386,292   190,823   195,469    373,586
##     NAMJA_2   YEOJA_2   GYE_3 NAMJA_3 YEOJA_3 SEDAEDANGINGU
## 1 5,059,504 5,149,166 255,501 121,613 133,888          2.48
## 2    84,088    84,070   8,865   4,137   4,728          2.26
## 3    65,216    64,570   8,316   3,959   4,357          2.22
## 4   116,764   121,602  12,478   6,531   5,947          2.22
## 5   154,389   153,755   7,969   3,839   4,130          2.43
## 6   185,087   188,499  12,706   5,736   6,970          2.39
##   N_65SEISANGGORYEONGJA
## 1               956,414
## 2                20,925
## 3                16,208
## 4                28,436
## 5                30,704
## 6                30,765</code></pre>
<pre class="r"><code>tail(seouldata)</code></pre>
<pre><code>##         GIGAN JACHIGU   SEDAE   GYE_1 NAMJA_1 YEOJA_1   GYE_2 NAMJA_2 YEOJA_2
## 1009 2019.3-4  동작구 180,841 410,487 198,593 211,894 397,618 192,829 204,789
## 1010 2019.3-4  관악구 268,226 519,953 260,386 259,567 502,117 251,923 250,194
## 1011 2019.3-4  서초구 173,215 435,258 208,297 226,961 431,027 206,185 224,842
## 1012 2019.3-4  강남구 232,115 549,043 262,829 286,214 544,028 260,305 283,723
## 1013 2019.3-4  송파구 278,340 684,338 331,364 352,974 677,489 328,073 349,416
## 1014 2019.3-4  강동구 178,969 430,522 212,590 217,932 426,219 210,593 215,626
##       GYE_3 NAMJA_3 YEOJA_3 SEDAEDANGINGU N_65SEISANGGORYEONGJA
## 1009 12,869   5,764   7,105           2.2                61,607
## 1010 17,836   8,463   9,373          1.87                74,518
## 1011  4,231   2,112   2,119          2.49                56,455
## 1012  5,015   2,524   2,491          2.34                70,029
## 1013  6,849   3,291   3,558          2.43                86,062
## 1014  4,303   1,997   2,306          2.38                61,710</code></pre>
<pre class="r"><code>glimpse(seouldata)</code></pre>
<pre><code>## Rows: 1,014
## Columns: 14
## $ GIGAN                 &lt;fct&gt; &lt;U+FEFF&gt;2010.1-4, 2010.1-4, 2010.1-4, 2010.1-...
## $ JACHIGU               &lt;fct&gt; 합계, 종로구, 중구, 용산구, 성동구, 광진구, 동대문구, 중랑구, 성북구, 강...
## $ SEDAE                 &lt;fct&gt; &quot;4,121,193&quot;, &quot;74,300&quot;, &quot;58,472&quot;, &quot;107,407&quot;, &quot;...
## $ GYE_1                 &lt;fct&gt; &quot;10,464,171&quot;, &quot;177,023&quot;, &quot;138,102&quot;, &quot;250,844&quot;...
## $ NAMJA_1               &lt;fct&gt; &quot;5,181,117&quot;, &quot;88,225&quot;, &quot;69,175&quot;, &quot;123,295&quot;, &quot;...
## $ YEOJA_1               &lt;fct&gt; &quot;5,283,054&quot;, &quot;88,798&quot;, &quot;68,927&quot;, &quot;127,549&quot;, &quot;...
## $ GYE_2                 &lt;fct&gt; &quot;10,208,670&quot;, &quot;168,158&quot;, &quot;129,786&quot;, &quot;238,366&quot;...
## $ NAMJA_2               &lt;fct&gt; &quot;5,059,504&quot;, &quot;84,088&quot;, &quot;65,216&quot;, &quot;116,764&quot;, &quot;...
## $ YEOJA_2               &lt;fct&gt; &quot;5,149,166&quot;, &quot;84,070&quot;, &quot;64,570&quot;, &quot;121,602&quot;, &quot;...
## $ GYE_3                 &lt;fct&gt; &quot;255,501&quot;, &quot;8,865&quot;, &quot;8,316&quot;, &quot;12,478&quot;, &quot;7,969...
## $ NAMJA_3               &lt;fct&gt; &quot;121,613&quot;, &quot;4,137&quot;, &quot;3,959&quot;, &quot;6,531&quot;, &quot;3,839&quot;...
## $ YEOJA_3               &lt;fct&gt; &quot;133,888&quot;, &quot;4,728&quot;, &quot;4,357&quot;, &quot;5,947&quot;, &quot;4,130&quot;...
## $ SEDAEDANGINGU         &lt;fct&gt; 2.48, 2.26, 2.22, 2.22, 2.43, 2.39, 2.36, 2.4...
## $ N_65SEISANGGORYEONGJA &lt;fct&gt; &quot;956,414&quot;, &quot;20,925&quot;, &quot;16,208&quot;, &quot;28,436&quot;, &quot;30,...</code></pre>
<pre class="r"><code>summary(seouldata)</code></pre>
<pre><code>##       GIGAN        JACHIGU        SEDAE             GYE_1         NAMJA_1    
##  2010.2-4: 26   강남구 : 39   126,714:   2   10,025,927:   1   184,750:   2  
##  2010.3-4: 26   강동구 : 39   135,563:   2   10,041,574:   1   214,105:   2  
##  2010.4-4: 26   강북구 : 39   137,509:   2   10,049,607:   1   228,201:   2  
##  2011.1-4: 26   강서구 : 39   137,901:   2   10,054,979:   1   292,646:   2  
##  2011.2-4: 26   관악구 : 39   140,007:   2   10,068,381:   1   66,582 :   2  
##  2011.3-4: 26   광진구 : 39   141,246:   2   10,089,517:   1   118,830:   1  
##  (Other) :858   (Other):780   (Other):1002   (Other)   :1008   (Other):1003  
##     YEOJA_1            GYE_2         NAMJA_2        YEOJA_2         GYE_3    
##  191,496:   2   424,892   :   2   151,961:   2   250,708:   2   4,445  :  3  
##  206,355:   2   10,009,588:   1   184,103:   2   114,449:   1   4,476  :  3  
##  122,877:   1   10,022,181:   1   210,440:   2   114,733:   1   4,621  :  3  
##  123,140:   1   10,055,027:   1   214,026:   2   114,978:   1   5,013  :  3  
##  123,553:   1   10,078,850:   1   214,094:   2   115,002:   1   7,799  :  3  
##  123,623:   1   10,100,987:   1   214,471:   2   115,068:   1   1,972  :  2  
##  (Other):1006   (Other)   :1007   (Other):1002   (Other):1007   (Other):997  
##     NAMJA_3       YEOJA_3    SEDAEDANGINGU N_65SEISANGGORYEONGJA
##  3,692  :  4   2,103  :  3   2.43   : 38   32,279 :   2         
##  1,757  :  3   2,221  :  3   2.44   : 34   35,299 :   2         
##  1,868  :  3   2,690  :  3   2.31   : 28   36,727 :   2         
##  1,889  :  3   2,788  :  3   2.3    : 27   43,507 :   2         
##  2,030  :  3   2,870  :  3   2.35   : 27   48,175 :   2         
##  4,094  :  3   3,022  :  3   2.42   : 27   49,935 :   2         
##  (Other):995   (Other):996   (Other):833   (Other):1002</code></pre>
<p><br></p>
</div>
<div id="gigan-column" class="section level2">
<h2>GIGAN Column</h2>
<p>  <code>seouldata$GIGAN</code>은 데이터의 연도와 분기를 의미하는 열입니다. 살펴보니 첫번째 행의 값이 특이한 문자가 섞여있네요. 해당 문자는 바이트 순서 표식(Byte Order Mark)라고 해서 텍스트 시작 지점에 등장하는 특수한 문자입니다. 문자열을 자르는 함수인 <code>str_sub()</code>을 통해 제거해줍니다.</p>
<pre class="r"><code>head(seouldata)</code></pre>
<pre><code>##              GIGAN JACHIGU     SEDAE      GYE_1   NAMJA_1   YEOJA_1      GYE_2
## 1 &lt;U+FEFF&gt;2010.1-4    합계 4,121,193 10,464,171 5,181,117 5,283,054 10,208,670
## 2         2010.1-4  종로구    74,300    177,023    88,225    88,798    168,158
## 3         2010.1-4    중구    58,472    138,102    69,175    68,927    129,786
## 4         2010.1-4  용산구   107,407    250,844   123,295   127,549    238,366
## 5         2010.1-4  성동구   126,942    316,113   158,228   157,885    308,144
## 6         2010.1-4  광진구   156,264    386,292   190,823   195,469    373,586
##     NAMJA_2   YEOJA_2   GYE_3 NAMJA_3 YEOJA_3 SEDAEDANGINGU
## 1 5,059,504 5,149,166 255,501 121,613 133,888          2.48
## 2    84,088    84,070   8,865   4,137   4,728          2.26
## 3    65,216    64,570   8,316   3,959   4,357          2.22
## 4   116,764   121,602  12,478   6,531   5,947          2.22
## 5   154,389   153,755   7,969   3,839   4,130          2.43
## 6   185,087   188,499  12,706   5,736   6,970          2.39
##   N_65SEISANGGORYEONGJA
## 1               956,414
## 2                20,925
## 3                16,208
## 4                28,436
## 5                30,704
## 6                30,765</code></pre>
<pre class="r"><code>as.character(seouldata$GIGAN[1])</code></pre>
<pre><code>## [1] &quot;&lt;U+FEFF&gt;2010.1-4&quot;</code></pre>
<pre class="r"><code>seouldata$GIGAN[1] &lt;- str_sub(seouldata$GIGAN[1], 1, 8)
as.character(seouldata$GIGAN[1])</code></pre>
<pre><code>## [1] &quot;2010.1-4&quot;</code></pre>
<p><br></p>
<p>  GIGAN 컬럼의 값을 보니 뒤에 분기를 의미하는 “-4”라는 문자가 반복되는 것을 볼 수 있습니다. <code>"연도.분기-4"</code> 형식으로 구성되어 있는 GIGAN컬럼에서 “-4”를 제거하여 <code>"연도-분기"</code>의 형태로 변환 해줍니다.</p>
<pre class="r"><code>seouldata$GIGAN &lt;- seouldata$GIGAN %&gt;% str_sub(1, 6) %&gt;% str_replace(., &#39;\\.&#39;, &#39;-&#39;)
seouldata$GIGAN &lt;- seouldata$GIGAN %&gt;% as.factor()
seouldata$GIGAN %&gt;% head()</code></pre>
<pre><code>## [1] 2010-1 2010-1 2010-1 2010-1 2010-1 2010-1
## 39 Levels: 2010-1 2010-2 2010-3 2010-4 2011-1 2011-2 2011-3 2011-4 ... 2019-3</code></pre>
<p><br></p>
</div>
<div id="숫자형-변수-콤마-제거" class="section level2">
<h2>숫자형 변수 콤마 제거</h2>
<p>  <code>seouldata</code>는 서울시에 거주하고 있는 인구에 대한 데이터 입니다. 세대수와 남성인구 여성인구 고령인구 등의 인구수를 나타내는 데이터이지만 데이터에는 콤마가 붙여져 있기 때문에 이를 제거해야 원활한 분석을 진행 할 수 있겠습니다. 더불어 콤마가 붙여있는 팩터형 데이터를 이번 전처리를 통해 콤마가 없는 숫자형 데이터로 일괄 변환하겠습니다.</p>
<pre class="r"><code>head(seouldata) # 3열부터 14열까지의 전처리 필요</code></pre>
<pre><code>##    GIGAN JACHIGU     SEDAE      GYE_1   NAMJA_1   YEOJA_1      GYE_2   NAMJA_2
## 1 2010-1    합계 4,121,193 10,464,171 5,181,117 5,283,054 10,208,670 5,059,504
## 2 2010-1  종로구    74,300    177,023    88,225    88,798    168,158    84,088
## 3 2010-1    중구    58,472    138,102    69,175    68,927    129,786    65,216
## 4 2010-1  용산구   107,407    250,844   123,295   127,549    238,366   116,764
## 5 2010-1  성동구   126,942    316,113   158,228   157,885    308,144   154,389
## 6 2010-1  광진구   156,264    386,292   190,823   195,469    373,586   185,087
##     YEOJA_2   GYE_3 NAMJA_3 YEOJA_3 SEDAEDANGINGU N_65SEISANGGORYEONGJA
## 1 5,149,166 255,501 121,613 133,888          2.48               956,414
## 2    84,070   8,865   4,137   4,728          2.26                20,925
## 3    64,570   8,316   3,959   4,357          2.22                16,208
## 4   121,602  12,478   6,531   5,947          2.22                28,436
## 5   153,755   7,969   3,839   4,130          2.43                30,704
## 6   188,499  12,706   5,736   6,970          2.39                30,765</code></pre>
<pre class="r"><code># 콤마 제거
seouldata &lt;- seouldata %&gt;% apply(., 2, function(x){str_remove_all(x, &#39;,&#39;)}) %&gt;% as.data.frame()
head(seouldata)</code></pre>
<pre><code>##    GIGAN JACHIGU   SEDAE    GYE_1 NAMJA_1 YEOJA_1    GYE_2 NAMJA_2 YEOJA_2
## 1 2010-1    합계 4121193 10464171 5181117 5283054 10208670 5059504 5149166
## 2 2010-1  종로구   74300   177023   88225   88798   168158   84088   84070
## 3 2010-1    중구   58472   138102   69175   68927   129786   65216   64570
## 4 2010-1  용산구  107407   250844  123295  127549   238366  116764  121602
## 5 2010-1  성동구  126942   316113  158228  157885   308144  154389  153755
## 6 2010-1  광진구  156264   386292  190823  195469   373586  185087  188499
##    GYE_3 NAMJA_3 YEOJA_3 SEDAEDANGINGU N_65SEISANGGORYEONGJA
## 1 255501  121613  133888          2.48                956414
## 2   8865    4137    4728          2.26                 20925
## 3   8316    3959    4357          2.22                 16208
## 4  12478    6531    5947          2.22                 28436
## 5   7969    3839    4130          2.43                 30704
## 6  12706    5736    6970          2.39                 30765</code></pre>
<p>  <code>apply()</code> 함수를 통해 <code>seouldata</code>객체의 각 열에 일괄적으로 <code>str_remove_all()</code>함수를 적용시켜 콤마를 제거해 주었습니다. <code>apply()</code>함수를 적용하면 결과값이 <code>matrix</code>형태로 변환되므로 <code>as.data.frame()</code>함수를 통해 다시 데이터프레임화 시켜줍니다.
<br></p>
<pre class="r"><code># 숫자형으로 변환
t1 &lt;- sapply(seq(3, 14), function(x){seouldata[,x] = as.character(seouldata[,x]) %&gt;% as.numeric}) %&gt;% 
    as.data.frame() 
seouldata[ ,c(3:14)] &lt;- t1
head(seouldata)</code></pre>
<pre><code>##    GIGAN JACHIGU   SEDAE    GYE_1 NAMJA_1 YEOJA_1    GYE_2 NAMJA_2 YEOJA_2
## 1 2010-1    합계 4121193 10464171 5181117 5283054 10208670 5059504 5149166
## 2 2010-1  종로구   74300   177023   88225   88798   168158   84088   84070
## 3 2010-1    중구   58472   138102   69175   68927   129786   65216   64570
## 4 2010-1  용산구  107407   250844  123295  127549   238366  116764  121602
## 5 2010-1  성동구  126942   316113  158228  157885   308144  154389  153755
## 6 2010-1  광진구  156264   386292  190823  195469   373586  185087  188499
##    GYE_3 NAMJA_3 YEOJA_3 SEDAEDANGINGU N_65SEISANGGORYEONGJA
## 1 255501  121613  133888          2.48                956414
## 2   8865    4137    4728          2.26                 20925
## 3   8316    3959    4357          2.22                 16208
## 4  12478    6531    5947          2.22                 28436
## 5   7969    3839    4130          2.43                 30704
## 6  12706    5736    6970          2.39                 30765</code></pre>
<pre class="r"><code>glimpse(seouldata)</code></pre>
<pre><code>## Rows: 1,014
## Columns: 14
## $ GIGAN                 &lt;fct&gt; 2010-1, 2010-1, 2010-1, 2010-1, 2010-1, 2010-...
## $ JACHIGU               &lt;fct&gt; 합계, 종로구, 중구, 용산구, 성동구, 광진구, 동대문구, 중랑구, 성북구, 강...
## $ SEDAE                 &lt;dbl&gt; 4121193, 74300, 58472, 107407, 126942, 156264...
## $ GYE_1                 &lt;dbl&gt; 10464171, 177023, 138102, 250844, 316113, 386...
## $ NAMJA_1               &lt;dbl&gt; 5181117, 88225, 69175, 123295, 158228, 190823...
## $ YEOJA_1               &lt;dbl&gt; 5283054, 88798, 68927, 127549, 157885, 195469...
## $ GYE_2                 &lt;dbl&gt; 10208670, 168158, 129786, 238366, 308144, 373...
## $ NAMJA_2               &lt;dbl&gt; 5059504, 84088, 65216, 116764, 154389, 185087...
## $ YEOJA_2               &lt;dbl&gt; 5149166, 84070, 64570, 121602, 153755, 188499...
## $ GYE_3                 &lt;dbl&gt; 255501, 8865, 8316, 12478, 7969, 12706, 12227...
## $ NAMJA_3               &lt;dbl&gt; 121613, 4137, 3959, 6531, 3839, 5736, 5333, 1...
## $ YEOJA_3               &lt;dbl&gt; 133888, 4728, 4357, 5947, 4130, 6970, 6894, 2...
## $ SEDAEDANGINGU         &lt;dbl&gt; 2.48, 2.26, 2.22, 2.22, 2.43, 2.39, 2.36, 2.4...
## $ N_65SEISANGGORYEONGJA &lt;dbl&gt; 956414, 20925, 16208, 28436, 30704, 30765, 40...</code></pre>
<p>  숫자를 제거한 열들은 기본적으로 문자형의 형태로 저장되어 있습니다. 이를 다시 숫자형으로 변환시켜줄 작업을 진행하였습니다.
  <code>apply</code> 계열 함수중의 하나인 <code>sapply</code>함수는 인자값을 받아 각각에 적용시켜 이를 벡터의 형태로 반환시켜주는 함수입니다. <code>sapply(인자, 함수)</code>의 형태인데요. 여기에서는 <code>seq(3, 14)</code>를 인자값으로 넣어 자체 함수인 <code>seouldata[,x] = as.character(seouldata[,x]) %&gt;% as.numeric()</code>에 적용시킨 것입니다. apply 함수에 익숙치 않으신 분들은 약간 이해하기 난해할 수 있는데요. 코드를 다시 풀어서 보자면 <code>seq(3,14)</code>는 3부터 14까지 순차적으로 증가하는 숫자를 반환하는 함수인데, 이 값들은 각각 순서대로 sapply함수 내부에 있는 <code>function(x)</code>의 매개변수로 순차적으로 들어가게 됩니다. 맨 먼저 x에 3이 들어가서 <code>t1[,3] &lt;- seouldata[,3] = as.character(seouldata[,3]) %&gt;% as.numeric</code> 작업을 진행하고, 작업이 끝나게 되면 x에 4가 들어가서 <code>t1[,4] &lt;- seouldata[,4] = as.character(seouldata[,4]) %&gt;% as.numeric</code> 작업을 진행합니다. 이렇게 순차적으로 14까지의 작업을 진행하는 방식이라고 이해하시면 될 것같습니다. 이를 통해 <code>t1</code> 객체에는 <code>seouldata[, c(3:14)]</code>의 값이 숫자형으로 변환된 값들이 저장됩니다.</p>
<p>  역시나 <code>apply()</code> 계열의 함수이므로 이전 과정처럼 결과값이 <code>matrix</code>형태로 반환됩니다. 이를 다시 <code>as.data.frame()</code>함수를 통해 데이터 프레임화 시켜줍니다.</p>
<p>  전처리한 <code>t1</code> 데이터를 전처리 되기 이전인 <code>seouldata[, c(3:14)]</code>에 덮어 써 줍니다. 이로써 기존 문자열로 구성되있던 숫자데이터를 제거하고 새로이 숫자형 데이터로 대체하였습니다.
<br>
<br></p>
</div>
<div id="연도-분기-변수-생성" class="section level2">
<h2>연도, 분기 변수 생성</h2>
<p>  연도별, 분기별 인구수의 변화를 분석하기 위해, <code>GIGAN</code>변수를 활용하여 연도를 의미하는 <code>year</code>변수열과 분기를 의미하는 <code>qrt</code> 변수열을 생성해 줍니다.</p>
<pre class="r"><code># year, qrt 변수 생성
seouldata &lt;- seouldata %&gt;% mutate(year = str_sub(GIGAN, 1, 4) %&gt;% as.factor(),
                                  qrt = str_sub(GIGAN, 6) %&gt;% as.factor())
head(seouldata)</code></pre>
<pre><code>##    GIGAN JACHIGU   SEDAE    GYE_1 NAMJA_1 YEOJA_1    GYE_2 NAMJA_2 YEOJA_2
## 1 2010-1    합계 4121193 10464171 5181117 5283054 10208670 5059504 5149166
## 2 2010-1  종로구   74300   177023   88225   88798   168158   84088   84070
## 3 2010-1    중구   58472   138102   69175   68927   129786   65216   64570
## 4 2010-1  용산구  107407   250844  123295  127549   238366  116764  121602
## 5 2010-1  성동구  126942   316113  158228  157885   308144  154389  153755
## 6 2010-1  광진구  156264   386292  190823  195469   373586  185087  188499
##    GYE_3 NAMJA_3 YEOJA_3 SEDAEDANGINGU N_65SEISANGGORYEONGJA year qrt
## 1 255501  121613  133888          2.48                956414 2010   1
## 2   8865    4137    4728          2.26                 20925 2010   1
## 3   8316    3959    4357          2.22                 16208 2010   1
## 4  12478    6531    5947          2.22                 28436 2010   1
## 5   7969    3839    4130          2.43                 30704 2010   1
## 6  12706    5736    6970          2.39                 30765 2010   1</code></pre>
<pre class="r"><code>glimpse(seouldata)</code></pre>
<pre><code>## Rows: 1,014
## Columns: 16
## $ GIGAN                 &lt;fct&gt; 2010-1, 2010-1, 2010-1, 2010-1, 2010-1, 2010-...
## $ JACHIGU               &lt;fct&gt; 합계, 종로구, 중구, 용산구, 성동구, 광진구, 동대문구, 중랑구, 성북구, 강...
## $ SEDAE                 &lt;dbl&gt; 4121193, 74300, 58472, 107407, 126942, 156264...
## $ GYE_1                 &lt;dbl&gt; 10464171, 177023, 138102, 250844, 316113, 386...
## $ NAMJA_1               &lt;dbl&gt; 5181117, 88225, 69175, 123295, 158228, 190823...
## $ YEOJA_1               &lt;dbl&gt; 5283054, 88798, 68927, 127549, 157885, 195469...
## $ GYE_2                 &lt;dbl&gt; 10208670, 168158, 129786, 238366, 308144, 373...
## $ NAMJA_2               &lt;dbl&gt; 5059504, 84088, 65216, 116764, 154389, 185087...
## $ YEOJA_2               &lt;dbl&gt; 5149166, 84070, 64570, 121602, 153755, 188499...
## $ GYE_3                 &lt;dbl&gt; 255501, 8865, 8316, 12478, 7969, 12706, 12227...
## $ NAMJA_3               &lt;dbl&gt; 121613, 4137, 3959, 6531, 3839, 5736, 5333, 1...
## $ YEOJA_3               &lt;dbl&gt; 133888, 4728, 4357, 5947, 4130, 6970, 6894, 2...
## $ SEDAEDANGINGU         &lt;dbl&gt; 2.48, 2.26, 2.22, 2.22, 2.43, 2.39, 2.36, 2.4...
## $ N_65SEISANGGORYEONGJA &lt;dbl&gt; 956414, 20925, 16208, 28436, 30704, 30765, 40...
## $ year                  &lt;fct&gt; 2010, 2010, 2010, 2010, 2010, 2010, 2010, 201...
## $ qrt                   &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...</code></pre>
<p><br></p>
</div>
<div id="합계인구-분리" class="section level2">
<h2>합계인구 분리</h2>
<p>  <code>seouldata$JACHIGU</code>는 서울의 자치구역을 구분하는 변수열 입니다. 변수값으로 서울의 자치구역이 적혀있는데요. 서울 자치구역의 인구수를 합산한 행인 “합계”도 포함되어 있습니다. 각 자치구별 분석에 합계가 포함되어 있으면 안되므로 이를 나누어 다루도록 하겠습니다.</p>
<pre class="r"><code># 자치구, 합계 분리
table(seouldata$JACHIGU) # 자치구에 &quot;합계&quot;가 같이 포함되어 있음. </code></pre>
<pre><code>## 
##   강남구   강동구   강북구   강서구   관악구   광진구   구로구   금천구 
##       39       39       39       39       39       39       39       39 
##   노원구   도봉구 동대문구   동작구   마포구 서대문구   서초구   성동구 
##       39       39       39       39       39       39       39       39 
##   성북구   송파구   양천구 영등포구   용산구   은평구   종로구     중구 
##       39       39       39       39       39       39       39       39 
##   중랑구     합계 
##       39       39</code></pre>
<pre class="r"><code>sum_seouldata &lt;- seouldata %&gt;% filter(JACHIGU == &#39;합계&#39;)
seouldata &lt;- seouldata %&gt;% filter(JACHIGU != &#39;합계&#39;)
summary(seouldata)</code></pre>
<pre><code>##      GIGAN        JACHIGU        SEDAE            GYE_1           NAMJA_1      
##  2010-1 : 25   강남구 : 39   Min.   : 58286   Min.   :132838   Min.   : 65445  
##  2010-2 : 25   강동구 : 39   1st Qu.:137540   1st Qu.:332427   1st Qu.:162870  
##  2010-3 : 25   강북구 : 39   Median :171028   Median :418134   Median :206795  
##  2010-4 : 25   강서구 : 39   Mean   :168165   Mean   :413048   Mean   :203322  
##  2011-1 : 25   관악구 : 39   3rd Qu.:196526   3rd Qu.:496124   3rd Qu.:245076  
##  2011-2 : 25   광진구 : 39   Max.   :278340   Max.   :693144   Max.   :339868  
##  (Other):825   (Other):741                                                     
##     YEOJA_1           GYE_2           NAMJA_2          YEOJA_2      
##  Min.   : 67393   Min.   :123970   Min.   : 61343   Min.   : 62627  
##  1st Qu.:170318   1st Qu.:326923   1st Qu.:160249   1st Qu.:166397  
##  Median :210847   Median :402203   Median :198587   Median :204097  
##  Mean   :209726   Mean   :402368   Mean   :198189   Mean   :204179  
##  3rd Qu.:251891   3rd Qu.:490005   3rd Qu.:242586   3rd Qu.:248479  
##  Max.   :353642   Max.   :685279   Max.   :336359   Max.   :350047  
##                                                                     
##      GYE_3          NAMJA_3         YEOJA_3      SEDAEDANGINGU  
##  Min.   : 1972   Min.   :  728   Min.   : 1205   Min.   :1.870  
##  1st Qu.: 4734   1st Qu.: 2082   1st Qu.: 2626   1st Qu.:2.250  
##  Median : 8269   Median : 3832   Median : 4357   Median :2.370  
##  Mean   :10680   Mean   : 5132   Mean   : 5547   Mean   :2.372  
##  3rd Qu.:12699   3rd Qu.: 5766   3rd Qu.: 7105   3rd Qu.:2.500  
##  Max.   :43242   Max.   :22514   Max.   :20733   Max.   :2.750  
##                                                                 
##  N_65SEISANGGORYEONGJA      year     qrt    
##  Min.   :16208         2010   :100   1:250  
##  1st Qu.:39783         2011   :100   2:250  
##  Median :49027         2012   :100   3:250  
##  Mean   :48527         2013   :100   4:225  
##  3rd Qu.:57411         2014   :100          
##  Max.   :86062         2015   :100          
##                        (Other):375</code></pre>
<pre class="r"><code>summary(sum_seouldata)</code></pre>
<pre><code>##      GIGAN       JACHIGU       SEDAE             GYE_1         
##  2010-1 : 1   합계   :39   Min.   :4114216   Min.   :10025927  
##  2010-2 : 1   강남구 : 0   1st Qu.:4188389   1st Qu.:10188000  
##  2010-3 : 1   강동구 : 0   Median :4194485   Median :10369593  
##  2010-4 : 1   강북구 : 0   Mean   :4204131   Mean   :10326198  
##  2011-1 : 1   강서구 : 0   3rd Qu.:4219542   3rd Qu.:10445072  
##  2011-2 : 1   관악구 : 0   Max.   :4315921   Max.   :10581728  
##  (Other):33   (Other): 0                                       
##     NAMJA_1           YEOJA_1            GYE_2             NAMJA_2       
##  Min.   :4887068   Min.   :5138758   Min.   : 9740398   Min.   :4751696  
##  1st Qu.:4994136   1st Qu.:5193403   1st Qu.: 9920674   1st Qu.:4867066  
##  Median :5109013   Median :5261704   Median :10103233   Median :4979768  
##  Mean   :5083043   Mean   :5243155   Mean   :10059208   Mean   :4954731  
##  3rd Qu.:5168998   3rd Qu.:5282722   3rd Qu.:10194822   3rd Qu.:5049110  
##  Max.   :5238674   Max.   :5343054   Max.   :10312545   Max.   :5111259  
##                                                                          
##     YEOJA_2            GYE_3           NAMJA_3          YEOJA_3      
##  Min.   :4988702   Min.   :243767   Min.   :117765   Min.   :125928  
##  1st Qu.:5052818   1st Qu.:257356   1st Qu.:124060   1st Qu.:134430  
##  Median :5124940   Median :270636   Median :129987   Median :140721  
##  Mean   :5104477   Mean   :266990   Mean   :128312   Mean   :138678  
##  3rd Qu.:5151574   3rd Qu.:275168   3rd Qu.:132873   3rd Qu.:142322  
##  Max.   :5201286   Max.   :285618   Max.   :137799   Max.   :150157  
##                                                                      
##  SEDAEDANGINGU   N_65SEISANGGORYEONGJA      year    qrt   
##  Min.   :2.260   Min.   : 956414       2010   : 4   1:10  
##  1st Qu.:2.355   1st Qu.:1090785       2011   : 4   2:10  
##  Median :2.410   Median :1221616       2012   : 4   3:10  
##  Mean   :2.393   Mean   :1213184       2013   : 4   4: 9  
##  3rd Qu.:2.440   3rd Qu.:1330335       2014   : 4         
##  Max.   :2.480   Max.   :1468146       2015   : 4         
##                                        (Other):15</code></pre>
<p><br></p>
<pre class="r"><code>save_RDS(sum_seouldata, &#39;./sum_seouldata.rds&#39;)
save_RDS(seouldata, &#39;./seouldata.rds&#39;)</code></pre>
<p><br></p>
<p>  <strong><code>dplyr</code></strong> 패키지의 <code>filter()</code>함수를 사용하여 서울 자치구 합산 인구수 데이터인 <code>sum_seouldata</code>와 각 자치구별 인구수 데이터인 <code>seouldata</code>객체를 분리하였고, 이를 각각 R의 고유한 파일 형식인 Rds 파일로 저장하였습니다. 분석에 필요한 전처리는 이것으로 마무리짓고 다음장에서 분석과 시각화작업을 진행하도록 하겠습니다.</p>
</div>
</div>
